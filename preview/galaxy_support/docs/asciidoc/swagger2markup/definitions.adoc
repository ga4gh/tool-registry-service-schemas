
[[_definitions]]
== Definitions

[[_checksum]]
=== Checksum

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**checksum** +
__required__|The hex-string encoded checksum for the data.|string
|**type** +
__required__|The digest method used to create the checksum.
The value (e.g. `sha-256`) SHOULD be listed as `Hash Name String` in the https://github.com/ga4gh-discovery/ga4gh-checksum/blob/master/hash-alg.csv[GA4GH Checksum Hash Algorithm Registry].
Other values MAY be used, as long as implementors are aware of the issues discussed in https://tools.ietf.org/html/rfc6920#section-9.4[RFC6920].
GA4GH may provide more explicit guidance for use of non-IANA-registered algorithms in the future.|string
|===


[[_descriptortype]]
=== DescriptorType
The type of descriptor that represents this version of the tool (e.g. CWL, WDL, or NFL). Note that these files can also include associated Docker/container files and test parameters that further describe a version of a tool.

__Type__ : enum (CWL, WDL, NFL, GXFORMAT2)


[[_error]]
=== Error

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**code** +
__required__|**Default** : `500`|integer (int32)
|**message** +
__optional__|**Default** : `"Internal Server Error"`|string
|===


[[_filewrapper]]
=== FileWrapper
A file provides content for one of
- A tool descriptor is a metadata document that describes one or more tools.
- A tool document that describes how to test with one or more sample test
JSON.
- A containerfile is a document that describes how to build a particular
container image. Examples include Dockerfiles for creating Docker images
and Singularity recipes for Singularity images


[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**checksum** +
__optional__|A production (immutable) tool version is required to have a hashcode. Not required otherwise, but might be useful to detect changes. +
**Example** : `[ {
  "checksum" : "ea2a5db69bd20a42976838790bc29294df3af02b",
  "type" : "sha1"
} ]`|< <<_checksum,Checksum>> > array
|**content** +
__optional__|The content of the file itself. One of url or content is required.|string
|**url** +
__optional__|Optional url to the underlying content, should include version information, and can include a git hash. Note that this URL should resolve to the raw unwrapped content that would otherwise be available in content. One of url or content is required. +
**Example** : `""`|string
|===


[[_imagedata]]
=== ImageData
Describes one container image.


[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**checksum** +
__optional__|A production (immutable) tool version is required to have a hashcode. Not required otherwise, but might be useful to detect changes. This exposes the hashcode for specific image versions to verify that the container version pulled is actually the version that was indexed by the registry. +
**Example** : `[ {
  "checksum" : "77af4d6b9913e693e8d0b4b294fa62ade6054e6b2f1ffb617ac955dd63fb0182",
  "type" : "sha256"
} ]`|< <<_checksum,Checksum>> > array
|**image_name** +
__optional__|Used in conjunction with a registry_url if provided to locate images. +
**Example** : `""`|string
|**image_type** +
__optional__||<<_imagetype,ImageType>>
|**registry_host** +
__optional__|A docker registry or a URL to a Singularity registry. Used along with image_name to locate a specific image. +
**Example** : `""`|string
|**size** +
__optional__|Size of the container in bytes.|integer
|**updated** +
__optional__|Last time the container was updated.|string
|===


[[_imagetype]]
=== ImageType
Indicates what kind of container is this image is.

__Type__ : enum (Docker, Singularity, Conda)


[[_tool]]
=== Tool
A tool (or described tool) is defined as a tuple of a descriptor file (which potentially consists of multiple files), a set of container images, and a set of instructions for creating those images.


[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**aliases** +
__optional__|Support for this parameter is optional for tool registries that support aliases.
A list of strings that can be used to identify this tool which could be straight up URLs.
This can be used to expose alternative ids (such as GUIDs) for a tool
for registries. Can be used to match tools across registries.|< string > array
|**checker_url** +
__optional__|Optional url to the checker tool that will exit successfully if this tool produced the expected result given test data.|string
|**description** +
__optional__|The description of the tool.|string
|**has_checker** +
__optional__|Whether this tool has a checker tool associated with it.|boolean
|**id** +
__required__|A unique identifier of the tool, scoped to this registry. +
**Example** : `"123456"`|string
|**meta_version** +
__optional__|The version of this tool in the registry. Iterates when fields like the description, author, etc. are updated.|string
|**name** +
__optional__|The name of the tool.|string
|**organization** +
__required__|The organization that published the image.|string
|**toolclass** +
__required__||<<_toolclass,ToolClass>>
|**url** +
__required__|The URL for this tool in this registry. +
**Example** : `"http://agora.broadinstitute.org/tools/123456"`|string
|**versions** +
__required__|A list of versions for this tool.|< <<_toolversion,ToolVersion>> > array
|===


[[_toolclass]]
=== ToolClass
Describes a class (type) of tool allowing us to categorize workflows, tasks, and maybe even other entities (such as services) separately.


[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**description** +
__optional__|A longer explanation of what this class is and what it can accomplish.|string
|**id** +
__optional__|The unique identifier for the class.|string
|**name** +
__optional__|A short friendly name for the class.|string
|===


[[_toolfile]]
=== ToolFile

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**file_type** +
__optional__||enum (TEST_FILE, PRIMARY_DESCRIPTOR, SECONDARY_DESCRIPTOR, CONTAINERFILE, OTHER)
|**path** +
__optional__|Relative path of the file. A descriptor's path can be used with the GA4GH â€¦/{type}/descriptor/{relative_path} endpoint.|string
|===


[[_toolversion]]
=== ToolVersion
A tool version describes a particular iteration of a tool as described by a reference to a specific image and/or documents.


[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**author** +
__optional__|Contact information for the author of this version of the tool in the registry. (More complex authorship information is handled by the descriptor).|< string > array
|**containerfile** +
__optional__|Reports if this tool has a containerfile available. (For Docker-based tools, this would indicate the presence of a Dockerfile)|boolean
|**descriptor_type** +
__optional__|The type (or types) of descriptors available.|< <<_descriptortype,DescriptorType>> > array
|**id** +
__required__|An identifier of the version of this tool for this particular tool registry. +
**Example** : `"v1"`|string
|**images** +
__optional__|All known docker images (and versions/hashes) used by this tool. If the tool has to evaluate any of the docker images strings at runtime, those ones cannot be reported here.|< <<_imagedata,ImageData>> > array
|**included_apps** +
__optional__|An array of IDs for the applications that are stored inside this tool. +
**Example** : `[ "https://bio.tools/tool/mytum.de/SNAP2/1", "https://bio.tools/bioexcel_seqqc" ]`|< string > array
|**is_production** +
__optional__|This version of a tool is guaranteed to not change over time (for example, a tool built from a tag in git as opposed to a branch). A production quality tool is required to have a checksum|boolean
|**meta_version** +
__optional__|The version of this tool version in the registry. Iterates when fields like the description, author, etc. are updated.|string
|**name** +
__optional__|The name of the version.|string
|**signed** +
__optional__|Reports whether this version of the tool has been signed.|boolean
|**url** +
__required__|The URL for this tool version in this registry. +
**Example** : `"http://agora.broadinstitute.org/tools/123456/versions/1"`|string
|**verified** +
__optional__|Reports whether this tool has been verified by a specific organization or individual.|boolean
|**verified_source** +
__optional__|Source of metadata that can support a verified tool, such as an email or URL.|< string > array
|===



